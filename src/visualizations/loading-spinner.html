<link rel="import" href="../../../polymer/polymer-element.html">
<link rel="import" href="../../../polymer/lib/elements/dom-module.html">
<link rel="import" href="../../../polymer/lib/elements/dom-if.html">
<link rel="import" href="../mixins/data-transformer-mixin.html">

<dom-module id="loading-spinner">
    <template>
        <!-- ToDo: Added FontAwesome temporarily. Will fix with Polymer 3.0 -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css">

        <style>
            :host {
                display: block;
            }

            #spinnerContainer {
                width: 100%;
                height: 100%;
                vertical-align: middle;
                text-align: center;
            }

            #spinner {
                font-size: 40px;
            }
        </style>
        <template is="dom-if" if="[[!hasReceivedData]]">
            <div id="spinnerContainer">
                <i id="spinner" class="fa fas fa-spinner fa-spin"></i>
            </div>
        </template>
        <template is="dom-if" if="[[hasReceivedData]]">
            <slot id="chartingElement"></slot>
        </template>
    </template>

    <script>
        /**
         * ## `loading-spinner`
         *
         * This component is used as wrapper of actual visualization components for displaying a spinner while loading data using the `ajax-wrapper`.
         *
         * FontAwesome is not shipped with M.E.I.N.E.L. and needs to be loaded separately.
         *
         * @polymer
         * @customElement
         * @demo demo/visualizations/loading_spinner_demo.html
         */
        class LoadingSpinner extends DataTransformerMixin(Polymer.Element) {

            static get is() {
                return 'loading-spinner';
            }

            static get properties() {
                return {};
            }

            static get observers() {
                return [];
            }
        }

        // Register custom element definition using standard platform API
        customElements.define(LoadingSpinner.is, LoadingSpinner);
    </script>
</dom-module>
